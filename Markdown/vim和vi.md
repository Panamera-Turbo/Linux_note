# vim和vi

*2020年2月23日*

> 都是文本编译器；
>
> vim从vi发展而来；
>
> [详情](https://www.cnblogs.com/xuzhaoping/p/10296430.html)

 

一：vim

1.vim的三种模式

命令模式：打开文件后默认为命令模式

编辑模式（文本模式，输入模式）：

末行模式（底线命令模式）：可以输入一些命令

 

打开文件：vi 文件名

| 模式转换           | 命令                |
| ------------------ | ------------------- |
| 命令模式->编辑模式 | A I O S a i o s     |
| 编辑模式->命令模式 | ESC                 |
| 命令模式->末行模式 | ：                  |
| 末行模式->命令模式 | 连按2次ESC/执行命令 |

 

 

2.常用命令

（1）命令模式

| 任务               | 命令                                                         |
| ------------------ | ------------------------------------------------------------ |
| 光标移动           | h 向前  l 向后   j 向下  k 向上  n空格 右移n  <br />+ 非空格符的下一行   - 非空格的上一行  <br />Ctrl  f/PageDown向下一页 Ctrl d 向下半页  <br />Ctrl  b/PageUp向上一页   Ctrl u向上半页  <br />0 / HOME行首  $ / END行尾   <br />gg文件首 G文件尾  行数G 移动到该行 n回车 下移n行 |
| 删除/剪切          | [详细解说网址](https://www.cnblogs.com/zknublx/p/8795789.html) |
| 粘贴               | p（粘贴在光标的下一行<br />P（粘贴在光标的当前行）           |
| 复制               | yy（复制光标所在行）  nyy（复制n行）                         |
| 操作一部分连续内容 | v 进入可视模式 -->hjkl  <br /><br />移动光标选中内容<br />-->y 复制，d 删除/剪切 <br />-->p 复制在当前行光标后，P 复制在当前行光标前 |
| 查找文本内容       | /待查找内容 (内容会在文中高亮)  <br />？待查找内容 (内容会在文中高亮)<br />区别：/ 从光标开始向下开始查找，？从光标开始向上开始查找，把光标移动到待查找内容，按#查找该单词。若有多个结果，按n或N移动到每个结果； |
| 替换单个字符       | r，再输入一个字符                                            |
| 缩进               | >> 向右    <<向左                                            |
| 查看man文档        | 先进入可视模式找到内容，shift k  n  shift k跳转到第n节  q退出 |
| 保存退出           | ZZ                                                           |

 

（2）编辑模式（文本模式）

| 命令 | 效果                     | 命令 | 效果                   |
| ---- | ------------------------ | ---- | ---------------------- |
| a    | 插入到光标后             | A    | 插入到当前行尾         |
| i    | 插入到光标前             | I    | 插入到当前行首         |
| o    | 在光标所在行下创建新行   | O    | 在光标所在行上创建新行 |
| s    | 删除光标后面的字符并输入 | S    | 删除整行并输入         |

 

（3）末行模式

：进入

| 效果                               | 操作                                    |
| ---------------------------------- | --------------------------------------- |
| 行的跳转                           | 输入数字即可跳转到对应行                |
| 替换当前位置指定字符串             | s/将被替换掉的内容/要替换为的内容       |
| 替换当前行所有指定字符串           | s/将被替换掉的内容/要替换为的内容/g     |
| 替换当前文件每一行第一个指定字符串 | *s/将被替换掉的内容/要替换为的内容      |
| 替换当前文件所有指定字符串         | s/将被替换掉的内容/要替换为的内容/g     |
| 替换第n行到第m行的指定字符串       | n，ms/将被替换掉的内容/要替换为的内容/g |
| 输入命令并显示                     | ！对应linux命令  回车退出               |
| 保存文件                           | w                                       |
| 退出                               | q                                       |
| 不保存退出                         | q！                                     |
| 保存退出                           | wq                                      |