# gdb调试

*2020年7月12日*



编译命令：gcc *.c -g -o test

 

启动gdb：gdb test

 

简写：

| 命令   | 对应简写 |
| ------ | -------- |
| break  | b        |
| info   | I        |
| delete | d        |
| quit   | q        |
| run    | r        |

 

 

| 命令                                  | 作用                                 | 注                                                           |
| ------------------------------------- | ------------------------------------ | ------------------------------------------------------------ |
| l（小L）文件a：行数n/函数             | 显示指定文件源代码的第n行或对应函数  | 不写文件名：默认含main的文件<br />不写‘：行数/函数’：默认全文件<br />默认每次显示5行<br/>回车继续执行上一次操作，如 l 回车继续显示下5行 |
| break 文件名 行数n<br />（简写：b n） | 在该文件的第n行设置普通断点          | 不写文件名默认当前函数                                       |
| break n if 条件                       | 条件断点。满足才断                   |                                                              |
| info 【X】                            | 查看【X】的信息                      | 常用 I b查看断点状态，状态为 y会断，n不会断                  |
| run                                   | 直接开始运行，直到断点               | 一直执行到断点                                               |
| start                                 | 开始逐步执行程序                     | 只会执行一步                                                 |
| n                                     | next，执行下一步                     | 只走一步                                                     |
| c                                     | continue，一直执行到断点             | 一直走到断点                                                 |
| s                                     | step，进入函数内部查看               | 这时，如果要查看函数内容，l                                  |
| p 【变量】                            | 查看对应变量的值                     |                                                              |
| display 【命令】                      | 追踪命令                             | 常用：display i，打印变量值                                  |
| info  display                         | 显示对应变量的编号                   |                                                              |
| undisplay 【编号】                    | 不再显示编号对应的变量               |                                                              |
| u                                     | 跳出一次循环                         |                                                              |
| finish                                | 跳出当前函数                         |                                                              |
| delete 【编号】                       | 删除编号对应的断点                   |                                                              |
| set var 【变量】=值                   | 直接给变量赋值，从赋值的地方开始运行 |                                                              |
| quit                                  | 退出                                 |                                                              |