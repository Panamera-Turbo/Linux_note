

# 关机与重启

*2020年2月23日*

| 功能 | 命令           | 参数                                                         |
| ---- | -------------- | ------------------------------------------------------------ |
| 关机 | sudo  poweroff |                                                              |
| 重启 | sudo  reboot   |                                                              |
|      | sudo  shutdown | -t“秒数”:设定在切换到不同runlevel之前，警告和删除之间的间隔时间；<br />-k：只警告，不shutdown  <br />-r：shutdown之后开机  <br />-h：shutdown之后关机  <br />-n：不经过init，由shutdown自身来关机（不建议）；  <br />-f：重新开机跳过fsck检查  <br />-F：重新开机强制fsck检查  <br />-c：取消已经在shutdown的动作 |



# 快捷键

*2020年2月17日15:53* 

| 命令         | 作用                                                         |
| ------------ | ------------------------------------------------------------ |
| Ctrl P       | 向上滚动历史命令                                             |
| Ctrl N       | 向下滚动历史命令                                             |
| Ctrl B       | 鼠标光标向前（左手）移动                                     |
| Ctrl F       | 鼠标向后移动                                                 |
| Ctrl A       | 鼠标跳到行首                                                 |
| Ctrl E       | 鼠标跳到行尾                                                 |
| Ctrl  H/退格 | 删除光标前面的字符                                           |
| Ctrl D       | 删除光标后面（光标盖住）的字符                               |
| Ctrl U       | 删除光标以前的所有内容                                       |
| Ctrl L       | 清屏                                                         |
| Tab          | 智能填充路径或命令（若有多个可能，第一次按下没有反应，第二次按下会显示所有可能的选择） |
| Ctrl+insert  | 复制                                                         |
| shift+insert | 粘贴                                                         |



# 软件的安装卸载（ubantu环境）

## 在线

方法一：使用apt-get

- 安装：sudo apt-get install 软件名
- 更新：sudo apt-get update 软件列表
- 卸载：sudo apt-get remove 软件名
- 清理所有安装包：sudo apt-get clean（实际清理的是/var/cache/apt/archives目录下的.deb文件）

方法二：使用aptitude

- 安装：sudo aptitude install 软件名
- 重新安装：sudo aptitude reinstall 软件名
- 更新：sudo aptitude update
- 移除：sudo aptitude remove软件名
- 显示状态：sudo aptitude show 软件名



## deb包

- 安装：sudo dpkg -i 软件名.deb    
- 卸载：sudo dpkg -r 软件名

# 命令解析器which

*2020年2月20日*

`which “命令名” :`显示该命令存在的目录，但是只能显示外置命令，如cd等命令内置命令不能回答（which cd不显示任何结果)

# 用户路径

*2020年2月17日19:55*

- 绝对路径：从根目录开始写  

- 相对路径：相对于当前位置。

   

| 符号 | 意义                     |
| ---- | ------------------------ |
| .    | 当前目录                 |
| ..   | 当前的上一级目录         |
| -    | 在临近的两个目录之间切换 |

 

宿主用户（家目录）的目录是/home/…（该用户名），其中/home可以用~代替，进入自己的家目录可以直接写cd即可。

 

ubantu里，显示规则为：

用户名@主机名：位置\$(或者#)，其中#是超级用户（root），$是普通用户

切换超级用户：sudo su

退出到普通用户：exit

# ls和tree查看目录

*2020年2月17日22:17*

### 颜色与文件/目录：（适用于绝大多数情况，有例外）

| 白色 | 普通文件                                |
| ---- | --------------------------------------- |
| 绿色 | 可执行文件（相当于Windows下的.exe）     |
| 红色 | 压缩文件                                |
| 青色 | 链接文件（相当于Windows下的快捷方式）   |
| 黄色 | 设备文件（block块、char字符、fifo管道） |
| 灰色 | 其他文件                                |
| 蓝色 | 目录                                    |

 

### tree

- 以树状图显示当前目录的所有信息，文件数和路径数  tree  指定目录：显示指定目录  
- 只查看当前第n级目录：  tree  -L n     将当前结果保存到文件：  tree -L n > 绝对路径/文件名.txt  (eg:  tree -L 2 > /mnt/f/test_empty/tree_output.txt)  



### ls：

| 参数       | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| -a         | 显示全部文件包括隐藏文件，包括.和..（这是隐藏文件的标志）    |
| -A         | 显示全部文件，但是不包括.和..(列出除了”.”和“..”以外的文件)   |
| -l         | 已长文件格式显示文件属性（即详细信息）                       |
| -al 或 -la | 显示包括隐藏文件的所有文件的详细信息                         |
| -B         | 不要列出已~结尾的隐藏文件                                    |
| -F         | 在每个文件的末尾添加一个标识符，通过标识符表明该文件的类型。“/”表示目录，“@”表示符号链接，“\|”表示FIFOS，“=”表示套接字。 |
| -t         | 按时间进行文件排序                                           |
| -R         | 将目录下说有的子目录的文件都列出来。                         |
| -S         | 以文件大小进行排序。                                         |
| 什么也不加 | 显示当前目录下没有隐藏的文件夹和文件                         |

注：详细信息包括：

| 字符位置               | 字符数 | 表示内容                               | 具体指代                                                     |
| ---------------------- | ------ | -------------------------------------- | ------------------------------------------------------------ |
| 1st                    | 1      | 文件类型                               | “ - ”：普通文件  “ d ”：目录  “ l ”：链接符号  “ b ”：块设备  “ c ”：字符设备  “ s ”：socket文件  “ p ”：管道 |
| 2nd~4th                | 3      | 所有者的权限                           | r ：读  w：写  x：执行  如果没有的应的权限，用 - 占位        |
| 5th~7th                | 3      | 同组用户（文件所属的组的所有人的权限） | r ：读  w：写  x：执行  如果没有的应的权限，用 - 占位        |
| 8th~10th               | 3      | 其他人的权限（既不是所有者也不是同组） | r ：读  w：写  x：执行  如果没有的应的权限，用 - 占位        |
| 11th（该位是一个数字） | 1      | 文件的硬链接数                         |                                                              |
| ？                     | ？     | 所有者名称                             |                                                              |
| ？                     | ？     | 文件所属于的组                         |                                                              |
| ？                     | ？     | 占用储存空间                           | 若为目录，占用的大小只是目录大小，不包含里面的文件（通常为4096） |
| ？                     | ？     | 创建/修改的时间                        |                                                              |
| ？                     | ？     | 文件名/目录名                          |                                                              |

# 文件、目录的创建和删除

*2020年2月18日16:57*

## 目录：

#### 创建：

| 命令                       | 作用                 |
| -------------------------- | -------------------- |
| pwd                        | 显示当前路径         |
| mkdir                      | 目录名：创建一个目录 |
| mkdir 目录1/目录2/目录3 -p | 创建复合目录         |

#### 删除：

| 命令  | 作用                         | 参数                                                         |
| ----- | ---------------------------- | ------------------------------------------------------------ |
| rmdir | 删除空目录                   |                                                              |
| rm    | 删除目录  ！注意！没有回收站 | 1.参数 -r，用递归的方式删除所有 <br>2.参数 -i， 删除时会提示是否删除（输入yes/no） |

 

## 文件

| 作用 | 命令         | 说明                                                         |
| ---- | ------------ | ------------------------------------------------------------ |
| 创建 | touch 文件名 | 1.对后缀没有要求 <br> 2.如果同名文件已经存在，修改文件的时间 |
| 删除 | rm 文件名    | -i提示                                                       |

# 文件的查找

*2020年2月21日*

#### 查找：

| 查找依据 | 命令                         | 备注                                                         |
| -------- | ---------------------------- | ------------------------------------------------------------ |
| 文件名   | find 目录名 -name "文件名"   | 1.如果不知道文件全名，使用通配符 * 或者 ？，<br>其中 *  通配一个或多个字符，？ 通配一个字符；<br>2.如果权限不够，sudo |
| 文件大小 | find 目录名  -size +/- 大小  | 1.+代表大于，-代表小于，其中大小的单位是k，M等<br>2.若搜索范围，则为 find 目录 -size +大小 -size -大小 |
| 文件类型 | find 目录名  -type 文件类型  | 文件类型<br />“ f ”：普通文件  <br />“ d ”：目录  <br />“ l ”：链接符号  <br />“ b ”：块设备  <br />“ c ”：字符设备  <br />“ s ”：socket文件  <br />“ p ”：管道 |
| 文件内容 | grep (-r) “查找的内容”(路径) |                                                              |

# 查看文件内容

*2020年2月19日*

| 命令 | 用法         | 作用                                                         |
| ---- | ------------ | ------------------------------------------------------------ |
| cat  | cat 文件名   | 全部显示在屏幕上  但是有些终端不能完全显示  适用于较小的程序 |
| more | more  文件名 | 回车键向下一行，空格向下一页  但是不能向上翻  退出按q或CTRL C  （真的不好用） |
| less | less  文件名 | 回车键/Ctrl N向下一行，空格/Ctrl  F向下一页  Ctrl  P向上一行，Ctrl B像上一页  退出按q |
| head | head  文件名 | 默认显示前十行  head  -n 显示前n行                           |
| tail | tail  文件名 | 默认显示后十行  tail  -n显示后n行                            |

注意：实际上常用vi

# 文件和目录属性的查看

*2020年2月20日*

- 常见：

  > od，wc，du，df

 

| 命令 | 适用于       | 详情                                                         |
| ---- | ------------ | ------------------------------------------------------------ |
| wc   | 文本文件     | 依次显示：行数   单词个数（以空格为准） 字节数  文件名    <br> -o 只显示字节数  -l只显示行数  -w只显示字数 |
| od   | 二进制文件   | -t参数 ： 指定显示格式。  具体参数如下： <br>c  ASCII字符  <br>f   浮点数  <br>d  有符号十进制  <br>o  八进制  <br>u  无符号十进制  <br>x  十六进制 |
| du   | 目录大小     | 显示当前目录及相邻的下一级目录大小，加参数 -h 才能看明白     |
| df   | 磁盘使用情况 | -h                                                           |

# 文件和目录的拷贝

*2020年2月19日9:15*

cp命令。既可拷贝文件也可拷贝目录

| 对象 | 用法                                                         |
| ---- | ------------------------------------------------------------ |
| 文件 | cp 要拷贝的a（母本）待存放的b  <br />eg：cp a b<br/>若b不存在，则创建b并将啊中的内容复制到b里面<br>若b存在，覆盖b的内容 |
| 目录 | cp a b -r  <br />若b不存在，创建一个内容和a一样的b  <br />若b存在，将整个目录a放进b中，即 /b/a |



# mv重命名文件/移动

*2020年2月19日*

### 命令：mv

 - 重命名：mv 旧文件名 新文件名

 - 移动：mv 文件名 目录  

   ​			若目录不存在，则不会移动过，而是重命名了该文件





# 修改权限、所有者和所属组

*2020年2月20日* 

> whoami:查看当前用户

可以修改文件/目录的权限、所有者和所属组，但是目录必须有执行权限，否则无法进入

 

 

权限修改：

| 方法       | 命令                                                         | 释义                                                         |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 文字设定法 | chmod 【who】【+/-/=】【mode】 文件名  <br>（三个括号的内容间没有空格） | 【who】：<br>  u 文件所有者     g 文件所属组       <br>  o  其他人           a  所有人（默认）  <br>【+/-/=】：+ 增加    - 减少     = 覆盖  <br>【mode】：r 读        w 写        x 执行 |
| 数字设定法 | chmod 【+/-】【数字】 文件名                                 | - ：没有权限  <br>4 ：r  <br>2：w  <br>1：x  <br>输入的三位数字为想要的权限的数字之和，依次表示所有者、所属组、其他人的权限 <br>+、-表示增减，等号覆盖可以不写符号 |

 

 

修改所有者/所属组

| 作用       | 命令                                                         |
| ---------- | ------------------------------------------------------------ |
| 修改所有者 | sudo  chown 新所有者 文件名                                  |
| 修改所属组 | 1. sudo chown 新所有者：所属组   文件名<br>2. sudo chgrp 新的组 文件名 |



# 压缩和解压缩

*2020年2月22日*

压缩的格式：.gz ;  .bz2

| 工具  | 压缩命令                                                     | 解压缩命令                                                   | 参数                                                         |
| ----- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| gzip  | gzip  文件1  文件2…… <br />只能把每个文件单独压缩，不能压缩进一个压缩包 ；<br/>不能压缩目录。 | gunzip  压缩包名                                             |                                                              |
| bzip2 | bzip2  文件1 文件2…<br/>只能把每个文件单独压缩，不能压缩进一个压缩包；<br/>不能压缩目录。 | bunzip  压缩包名                                             | 压缩时， -k可以保留原文件                                    |
| tar   | tar zcvf 压缩包名 待压缩<br/>tar jcvf 压缩包名 待压缩<br/>压缩文件名字通常建议为xxx.tar.gz或xxx.tar.bz2 | tar  zxvf 压缩包名 -C 指定释放目录<br />tar  jxvf 压缩包名 -C 指定释放目录 <br />如果不加"-C 目录"，解压到当前目录 | c 创建（压缩）<br />x 释放（解压缩）  <br />v 显示提示信息（压缩解压缩<br/>f 指定压缩解压缩文件名字<br />z 使用zgip格式  <br/>j 使用bzip2格式  注：不使用z、j，则只打包不压缩 |
| rar   | rar  a -r 压缩包名 原文件/目录 <br/>压缩文件名会被自动加上 .rar  “-r”影响不大 | rar  x 压缩包名 指定释放目录     如果不加目录，解压到当前目录 | a 压缩<br />x 解压                                           |
| zip   | zip 压缩包名 原文件/目录                                     | unzip 压缩包名 -d 指定释放目录     不指定则当前目录释放      |                                                              |
| 总结  | 命令 参数 压缩包名 原文件/目录                               | 命令 参数 压缩包名 参数 解压目录                             |                                                              |



# 用户管理

*2020年7月4日*

用户的增加、删除、切换、密码修改等，具体在/etc的passwd文件，使用vim打开

 

通常*都要sudo*

 

| 命令                                                 | 作用                 | 说明                                                         |
| ---------------------------------------------------- | -------------------- | ------------------------------------------------------------ |
| adduser 【用户名】                                   | 创建用户和组         | 用户名不能包含大写字母                                       |
| useradd -s [参数1]  -g [参数2] -d [参数3] -m [参数4] | 创建用户             | 用户名可以包含大写字母<br />默认无密码；  <br />参数1：命令解析器。一般是/bin/bash  <br />参数2：所属的组<br />参数3：指定的目录。一般是/home/用户名  <br />参数4：/home若没有对应的目录，创建一个 |
| su [用户名]                                          | 切换用户             |                                                              |
| exit                                                 | 退出当前用户         |                                                              |
| passwd [用户]                                        | 修改对应的密码       | 不输入用户，默认修改当前用户密码  <br />sudo passwd root修改root用户 |
| deluser 【用户名】                                   | 删除对应的用户       | 家目录不会被自动删除，手动删                                 |
| userdel -r 【用户名】                                | 删除用户和对应家目录 |                                                              |





# 常用命令、库、软件

### 命令

[点击此处检索命令](https://www.runoob.com/linux/linux-command-manual.html)



| 常用命令 |          |      |      |       |       |         |       |        |
| :------: | -------- | ---- | ---- | ----- | ----- | ------- | ----- | ------ |
|    mv    | man      | vi   | ln   | sudo  | date  | history | cd    | pwd    |
|    rm    | cp       | echo | cat  | which | file  | gcc     | alias | man    |
|   tree   | ls       | su   | sudo | exit  | mkdir | rmdir   | touch | less   |
|   tail   | head     | more | wc   | od    | du    | df      | chgrp | chmod  |
|  chown   | find     | grep | gzip | bzip2 | tar   | rar     | zip   | reboot |
| poweroff | shutdown |      |      |       |       |         |       |        |



| 软件              | 是否下载 |
| ----------------- | -------- |
| aptitude          | 已下载   |
| tree              | 已下载   |
| vim               | 已下载   |
| rar               |          |
| nfs-kernel-server |          |
| openssh-server    |          |
| vsftpd            |          |



### 常用库

数学库

```
-lm
```





# 磁盘

*2020年6月24日*

### 磁盘管理

Linux磁盘管理好坏直接关系到整个系统的性能问题。

Linux磁盘管理常用三个命令为df、du和fdisk。

| 命令  | 用法                   | 作用                               | 参数                                                         |
| ----- | ---------------------- | ---------------------------------- | ------------------------------------------------------------ |
| df    | df [参数] [目录或文件] | 列出文件系统的<br />整体磁盘使用量 | -a 列出所有文件系统<br />-k 以KB为单位显示各文件系统<br />-m 以MB为单位显示各文件系统<br />-h  以人们较易阅读的 GBytes, MBytes, <br/>KBytes 等格式自行显示<br />-H 以 M=1000K 取代  M=1024K 的进位方式<br />-T 显示文件系统类型, 连同该 partition 的 <br />filesystem 名称 (如ext3) 也列出<br />-I 不用硬盘容量，而以 inode 的数量来显示 |
| du    | du [参数] [目录或文件] | 检查磁盘空间使用量                 | -a：列出所有的文件与目录容量，因为默认<br />仅统计目录底下的文件量而已<br />-h：以人们较易读的容量格式 (G/M)  显示<br />-s：列出总量而已，而不列出每个各别的目录<br />占用容量<br/>-S：不包括子目录下的总计，与 -s  有点差别<br />-k：以 KBytes 列出容量显示<br />-m：以 MBytes 列出容量显示 |
| fdisk | fdisk -l [装置名称]    | 用于磁盘分区                       | -l：输出后面接的装置所有的分区内容。<br />若仅有 fdisk -l 时， 则系统将会把<br/>整个系统内能够搜寻到的装置的分区均列出来 |

 

### 磁盘检验

- fsck  【-t 文件系统】【参数2】 装置名称

  -t：给定档案系统的型式，若在 /etc/fstab 中已有定义或 kernel 本身已支援的则不需加上此参数  

  参数2（可以多个一起用）：

  | 参数 | 作用                                                         |
  | ---- | ------------------------------------------------------------ |
  | -f   | 强制检查                                                     |
  | -s   | 依序一个一个地执行 fsck 的指令来检查                         |
  | -A   | 对/etc/fstab  中所有列出来的 分区（partition）做检查         |
  | -C   | 显示完整的检查进度                                           |
  | -d   | 打印出 e2fsck 的  debug 结果                                 |
  | -p   | 同时有 -A 条件时，同时有多个  fsck 的检查一起执行            |
  | -R   | 同时有 -A 条件时，省略 /  不检查                             |
  | -V   | 详细显示模式                                                 |
  | -a   | 如果检查有错则自动修复                                       |
  | -r   | 如果检查有错则由使用者回答是否修复                           |
  | -y   | 选项指定检测每个文件是自动输入yes，在不确定那些是不正常的时候，可以执行 # fsck -y 全部检查修复。 |

 

### 磁盘挂载与卸载

| 操作 | 命令                                                         | 参数                                                         |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 挂载 | mount  [文件系统] [Label名] [额外选项] [-n] 装置文件名   挂载点 |                                                              |
| 卸载 | umount  [-fn] 装置文件名或挂载点                             | -f ：强制卸除！可用在类似网络文件系统  (NFS) 无法读取到的情况下；<br /> -n ：不升级 /etc/mtab 情况下卸除 |



# 静态库

*2020年7月8日*

1.命名规则

		- lib+库的名字+.a  如：libMine.a（下文均以此为例）

2.制作步骤

	1）生成对应的.o文件
	
	2）将生成的.o文件打包：ar rcs libMine.a 所有的.o

3.发布静态库

	1）发布静态库
	
	2）发布头文件

4.使用静态库

	1）使用的时候直接调用libMine.a的函数接口即可
	
	2）使用时注意，gcc要编译新写（即用户自己写的）main函数，静态库libMine.a， 并-I 引用头文件
	
	3）使用时的2种常见写法
	
		[1]gcc c文件 库目录里的库 -I 头文件目录
	
	eg：gcc main.c lib/libMine.a -I ./head
	
		[2]gcc c文件 -I 头文件目录 -L 库目录 -l 引用的库名

> eg：gcc main.c -I ./head -L lib -l Mine 

# 共享库(动态库)

*2020年7月8日*



1.命名规则

		- lib+库的名字+.so  如：libMine.so（下文均以此为例）

 





2.制作步骤

		1）生成与位置无关的代码（.o文件）：gcc -fPIC -c *.c -I 头文件目录
	
			换言之，Linux分给进程的地址空间（虚拟地址空间）中，生成的.o文件位置不固定
	
		2）将生成的.o文件打包：gcc -shared -I 头文件目录 *.o -o libMine.so

 




3.发布动态库

		1）发布动态库
	
		2）发布头文件

 




4.使用动态库

		1）使用的时候直接调用libMine.so和头文件的函数接口即可
	
		2）使用时注意，gcc要编译新写（即用户自己写的）main函数，静态库libMine.a， 并-I 引用头文件

 5.优缺点

| 优点                                   | 缺点                 |
| -------------------------------------- | -------------------- |
| 体积小                                 | 发布时需要提供动态库 |
| 更新后不需要更新程序（借口不变的前提） | 加载速度略慢于静态库 |





# 管道

*2020年6月30日*

p类型，pipe

> 将命令1的输出作为命令2的输入，指令2执行完后才输出至屏幕

 # 环境变量

*2020年7月1日*

Linux下环境变量以键值对（key-value）的形式显示。

> key = value1 ：value2：value3：… ：valueN 

# 进程

*2020年6月30日*

应用程序启动 --> 一个进程

切换终端tty1~tty7： ctrl+alt+f1/f2/……/f7，其中一个为图形终端，其他为文字终端

 

| 命令                     | 作用                   | 参数                                                         | 其他                                                         |
| ------------------------ | ---------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| who                      | 查看当前用户的状况     | 无                                                           |                                                              |
| ps [参数]                | 查看进程               | a：显示所有终端上用户的进程  <br />u：显示用户自己的信息  <br />au：兼有a，u  <br />aux：查看没有终端的进程（带‘？’的就是不依赖于终端的） | {USER：用户        <br />PID：进程PID  <br />%CPU：CPU使用率    %MEM：内存使用率  <br />TTY：终端}     <br />利用管道，例如：ps aux \| grep 进程名 |
| kill -l或-[数字] 进程PID | 查看命令/执行命令      | ps -l ： 查看命令以及对应的编号  <br />ps -数字 -PID：对PID进程执行[数字]号命令。例如，杀死进程对应命令9 |                                                              |
| env                      | 查看当前进程的环境变量 | \                                                            | 也可以利用管道。同上，略。                                   |
| top                      | 类似于任务管理器       | Ctrl+C结束。只能看，不能动。                                 |                                                              |





# gcc

*2020年7月7日*

| 工作流程 | 参数 | 工作内容                     | 生成文件               |
| -------- | ---- | ---------------------------- | ---------------------- |
| 预处理   | -E   | 宏替换  头文件展开  注释去掉 | xxx.c生成xxx.i         |
| 编译     | -S   |                              | xxx.i生成xxx.s         |
| 汇编     | -c   |                              | xxx.s生成xxx.o         |
| 链接     | 无   |                              | xxx.o生成xxx（可执行） |

 <br><br><br>

| 常用参数        | 效果                                                         |
| --------------- | ------------------------------------------------------------ |
| 没有            | a.out                                                        |
| -v /  --version | 显示gcc版本                                                  |
| -I（大写i）     | 编译时指定头文件路径，适用于include的头文件和c文件不在同一目录的情况 |
| -c              | 将汇编文件生成二进制.o文件                                   |
| -o              | 指定生成的文件名                                             |
| -g              | gdb调试。会包含调试信息，因此略大                            |
| -D 【宏名称】   | 在编译时指定宏。往往在测试时，结合ifdef，else使用            |
| -Wall           | 警告信息全开                                                 |
| -O[n]           | 优化代码。n为优化级别，从低到高为1，2，3                     |
| -L              | 指定静态库的目录                                             |
| -l（小写L）     | 指定引用的静态库名（不含lib，.a）                            |
| -fPIC /  -fpic  | 生成与位置无关的代码                                         |



# gdb调试

*2020年7月12日*



编译命令：gcc *.c -g -o test

 

启动gdb：gdb test

 

简写：

| 命令   | 对应简写 |
| ------ | -------- |
| break  | b        |
| info   | I        |
| delete | d        |
| quit   | q        |
| run    | r        |

 

 

| 命令                                  | 作用                                 | 注                                                           |
| ------------------------------------- | ------------------------------------ | ------------------------------------------------------------ |
| l（小L）文件a：行数n/函数             | 显示指定文件源代码的第n行或对应函数  | 不写文件名：默认含main的文件<br />不写‘：行数/函数’：默认全文件<br />默认每次显示5行<br/>回车继续执行上一次操作，如 l 回车继续显示下5行 |
| break 文件名 行数n<br />（简写：b n） | 在该文件的第n行设置普通断点          | 不写文件名默认当前函数                                       |
| break n if 条件                       | 条件断点。满足才断                   |                                                              |
| info 【X】                            | 查看【X】的信息                      | 常用 I b查看断点状态，状态为 y会断，n不会断                  |
| run                                   | 直接开始运行，直到断点               | 一直执行到断点                                               |
| start                                 | 开始逐步执行程序                     | 只会执行一步                                                 |
| n                                     | next，执行下一步                     | 只走一步                                                     |
| c                                     | continue，一直执行到断点             | 一直走到断点                                                 |
| s                                     | step，进入函数内部查看               | 这时，如果要查看函数内容，l                                  |
| p 【变量】                            | 查看对应变量的值                     |                                                              |
| display 【命令】                      | 追踪命令                             | 常用：display i，打印变量值                                  |
| info  display                         | 显示对应变量的编号                   |                                                              |
| undisplay 【编号】                    | 不再显示编号对应的变量               |                                                              |
| u                                     | 跳出一次循环                         |                                                              |
| finish                                | 跳出当前函数                         |                                                              |
| delete 【编号】                       | 删除编号对应的断点                   |                                                              |
| set var 【变量】=值                   | 直接给变量赋值，从赋值的地方开始运行 |                                                              |
| quit                                  | 退出                                 |                                                              |



# Makefile

*2020年7月14日*



【1】命名：makefile或Makefile

 

【2】编写

​	三要素：目标，依赖，命令

​	格式如下（#注:命令缩进必须有）：

	> 目标1（生成的文件）：依赖（编译直接需要的文件）
	>
	> ​    命令
	>
	> 目标2（生成的文件）：依赖（编译直接需要的文件）
	>
	> ​    命令
	>
	> ……
	>
	> 目标n（生成的文件）：依赖（编译直接需要的文件）
	>
	> ​	命令




​		其中，目标1是终极目标，目标2，3…n是子规则，分别用来生成上面目标的依赖文件（即关系依		赖树的形式）。

​		make默认执行完成终极目标，make 目标n只完成目标n

​		注：不是所有目标都有依赖，例如删除时，不需要依赖：

​			clean：

​				rm -f *.o

​		使用时，make clean

【3】优点

​	1.简化输入的命令

​	2.可以分开编译文件，且在除了第一次编译，后续过程中只会编译改变过的文件（和直接或间接以此	文件为依赖的文件），即makefile的更新模式：当且仅当目标比依赖早（或目标不存在）才会执行更	新

​	3.由于更新模式的缘故，若目录中已经有了和某个目标同名的文件，且该目标没有依赖（例如make 	clean），makefile不会执行对应的命令。
​	解决方案：声明伪目标，使makefile始终执命令：.PHONY：目标。如：.PHONY：clean

 

【4】变量和公式

​	1.变量没有类型，直接写就行了。引用时，使用 $(变量) 来引用。其中，自定义变量一般小写，系统	维护的变量为全大写。常见：

| 系统变量 | 说明                           |
| -------- | ------------------------------ |
| CC       | 默认cc（也就是gcc）            |
| CPPFLAGS | 预处理需要的选项，如 -I（大i） |
| CFLAGS   | 编译时的参数，-Wall，-g，-c等  |
| LDFLAGS  | 链接库的选项，-l（小L），-L等  |

 

​	2.模式规则：

​	例如，在下面的例子中,左右等价

| 1                                                            | 2                                                            |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| source  = main.o sub.o<br />target  = app<br />CC =  gcc<br />app :  \$(source)  \$(CC)   \$(spurce) -o \$(target)  <br />main.o  : main.c  \$(CC) -c main.c  <br />sub.o  : sub.c  \$(CC) -c sub.c | source  = main.o sub.o  <br />target  = app  <br />CC =  gcc  <br />app :  \$(source)  \$(CC)   \$(spurce) -o \$(target)<br />%.o :  %.c  \$(CC) -c \$< -o   $@ |

​	解释：

​	%.c、%.o：自动匹配相同格式的目标和依赖，直至终极目标的所有依赖都生成（存在）【类似于通	配符 *】

​	\$< 、 $@ 、$^：自动变量，只能用于规则的命令中	

​	$<：这条规则中的第一个依赖

​	$@：这条规则中的目标

​	$^：这条规则中的所有依赖

【5】函数

​	所有makefile中的函数都有返回值

​	这里介绍3个常用函数。

| 函数 | wildcard                                 | patsubst                                                     | notdir                                                 |
| ---- | ---------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------ |
| 用法 | $(wildcard 指定目录下的文件)             | $(patsubst 原文件名，替换成的文件名，搜索范围)               | $(notdir  文件名 )                                     |
| 作用 | 获取指定目录下的指定文件，以串的形式返回 | 匹配替换。在搜索范围里寻找，若符合原文件名，则改为替换的文件名。  可包含通配符% | 把展开的文件的路径去掉，只显示文件名而不包含其路径信息 |
| 示例 | source=$(wildcard ./*.c)                 | object=\$(patsubst ./%.c,  ./%.o, $(source)  )               |                                                        |

【6】其他

​	有些命令不能执行时，会直接退出makefile。因此，应当在命令前加上 -（减号），若执行失败则忽略命令，继续执行







# vim和vi

*2020年2月23日*

> 都是文本编译器；
>
> vim从vi发展而来；
>
> [详情](https://www.cnblogs.com/xuzhaoping/p/10296430.html)

 

一：vim

1.vim的三种模式

命令模式：打开文件后默认为命令模式

编辑模式（文本模式，输入模式）：

末行模式（底线命令模式）：可以输入一些命令

 

打开文件：vi 文件名

| 模式转换           | 命令                |
| ------------------ | ------------------- |
| 命令模式->编辑模式 | A I O S a i o s     |
| 编辑模式->命令模式 | ESC                 |
| 命令模式->末行模式 | ：                  |
| 末行模式->命令模式 | 连按2次ESC/执行命令 |

 

 

2.常用命令

（1）命令模式

| 任务               | 命令                                                         |
| ------------------ | ------------------------------------------------------------ |
| 光标移动           | h 向前  l 向后   j 向下  k 向上  n空格 右移n  <br />+ 非空格符的下一行   - 非空格的上一行  <br />Ctrl  f/PageDown向下一页 Ctrl d 向下半页  <br />Ctrl  b/PageUp向上一页   Ctrl u向上半页  <br />0 / HOME行首  $ / END行尾   <br />gg文件首 G文件尾  行数G 移动到该行 n回车 下移n行 |
| 删除/剪切          | [详细解说网址](https://www.cnblogs.com/zknublx/p/8795789.html) |
| 粘贴               | p（粘贴在光标的下一行<br />P（粘贴在光标的当前行）           |
| 复制               | yy（复制光标所在行）  nyy（复制n行）                         |
| 操作一部分连续内容 | v 进入可视模式 -->hjkl  <br /><br />移动光标选中内容<br />-->y 复制，d 删除/剪切 <br />-->p 复制在当前行光标后，P 复制在当前行光标前 |
| 查找文本内容       | /待查找内容 (内容会在文中高亮)  <br />？待查找内容 (内容会在文中高亮)<br />区别：/ 从光标开始向下开始查找，？从光标开始向上开始查找，把光标移动到待查找内容，按#查找该单词。若有多个结果，按n或N移动到每个结果； |
| 替换单个字符       | r，再输入一个字符                                            |
| 缩进               | >> 向右    <<向左                                            |
| 查看man文档        | 先进入可视模式找到内容，shift k  n  shift k跳转到第n节  q退出 |
| 保存退出           | ZZ                                                           |

 

（2）编辑模式（文本模式）

| 命令 | 效果                     | 命令 | 效果                   |
| ---- | ------------------------ | ---- | ---------------------- |
| a    | 插入到光标后             | A    | 插入到当前行尾         |
| i    | 插入到光标前             | I    | 插入到当前行首         |
| o    | 在光标所在行下创建新行   | O    | 在光标所在行上创建新行 |
| s    | 删除光标后面的字符并输入 | S    | 删除整行并输入         |

 

（3）末行模式

：进入

| 效果                               | 操作                                    |
| ---------------------------------- | --------------------------------------- |
| 行的跳转                           | 输入数字即可跳转到对应行                |
| 替换当前位置指定字符串             | s/将被替换掉的内容/要替换为的内容       |
| 替换当前行所有指定字符串           | s/将被替换掉的内容/要替换为的内容/g     |
| 替换当前文件每一行第一个指定字符串 | *s/将被替换掉的内容/要替换为的内容      |
| 替换当前文件所有指定字符串         | s/将被替换掉的内容/要替换为的内容/g     |
| 替换第n行到第m行的指定字符串       | n，ms/将被替换掉的内容/要替换为的内容/g |
| 输入命令并显示                     | ！对应linux命令  回车退出               |
| 保存文件                           | w                                       |
| 退出                               | q                                       |
| 不保存退出                         | q！                                     |
| 保存退出                           | wq                                      |







# yum

*2020年6月26日*

yum（Yellow dog Updater, Modified）是一个在Fedora和RedHat以及SUSE中的Shell前端软件包管理器。基于RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。

 yum提供了查找、安装、删除某一个、一组甚至全部软件包的命令，且命令简洁而又好记。

 

|      | 命令                                                         |
| ---- | ------------------------------------------------------------ |
| 语法 | yum [options] [command] [package ...]                        |
| 解释 | options：可选，选项包括-h（帮助），-y（当安装过程提示选择全部为"yes"），-q（不显示安装的过程）等等。     <br />command：要进行的操作。     <br />package：操作的对象。 |

 

常用命令

| 操作                     | 命令                                                         |
| ------------------------ | ------------------------------------------------------------ |
| 列出所有可更新的软件清单 | yum check-update                                             |
| 更新所有软件             | yum update                                                   |
| 仅安装指定的软件         | yum install <package_name>                                   |
| 仅更新指定的软件         | yum update <package_name>                                    |
| 列出所有可安裝的软件清单 | yum list                                                     |
| 删除软件包               | yum remove <package_name>                                    |
| 查找软件包               | yum search \<keyword>                                        |
| 清除缓存                 | yum  clean packages: 清除缓存目录下的软件包<br />yum clean headers: 清除缓存目录下的 headers<br />yum  clean oldheaders: 清除缓存目录下旧的 headers<br />yum  clean, yum clean all (= yum clean packages; yum clean oldheaders)  :清除缓存目录下的软件包及旧的headers |

# 软/硬链接

*2020年2月19日*

定义：

   - 软链接 ： 

     相当于快捷方式。又叫符号链接，这个文件包含了一个文件的路径名，可以是任意文件或目	录，可以链接不同文件系统的文件；  在操作符号文件时，系统会自动把该操作转换为对源文件的操作，但删除链接文件的时候不会删除源文件。  

- 硬链接：

  一个文件的一个或者多个文件名；  不能给目录创建硬链接；  多个文件名能同时修改同一文件；  硬链接不占据磁盘空间，相当于指针

 

软链接：

| 操作 | 命令                                                         | 说明                                                         |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 创建 | ln  -s /文件的绝对路径/文件名   /软链接位置的绝对路径/软链接名 | 1.两个路径都可以省略，默认在当前目录 <br/>2.如果改变了文件位置，则软链接失效 |
| 更新 | ln  -snf /新文件的绝对路径/新文件   /软链接位置的绝对路径/软链接名 | 软链接指向新的文件                                           |
| 删除 | rm 软链接名                                                  | 千万不要加 / ！！！！！                                      |

 

 

硬链接

| 操作 | 命令                                     |
| ---- | ---------------------------------------- |
| 创建 | ln 文件名 /硬链接位置的绝对路径/硬链接名 |
| 更新 |                                          |
| 删除 | rm 硬链接名                              |

# 网络相关

*2020年7月1日*

| 命令                                  | 作用                       |                                                              |
| ------------------------------------- | -------------------------- | ------------------------------------------------------------ |
| ifconfig  <br />(Windows下是ipconfig) | 查看IP                     | eth0：当前电脑的网卡（第一块），依次类推<br />mac地址（硬件地址）：绝对不会重复 |
| ping [IP]                             | 网络诊断                   | 默认一直检测，Ctrl+C结束<br />-c  NUM： 只显示NUM个结果就结束  <br />-I  SEC：每次只测试SEC秒  <br />ping 网址：测试连接特定网址 |
| nslookup [网址]                       | 查看服务器域名对应的IP地址 | 如果有多个服务器，会全部列出                                 |



# 其他命令

*2020年7月8日*

| 命令  | 作用                                                         |
| ----- | ------------------------------------------------------------ |
| man   | 帮助文档  man "命令"   ：<br />可以查看命令的详情<br />man man可以查看首页 |
| echo  | 1.输出指定字符串 echo “xxx”<br />2.查看环境变量：echo \$"环境变量"<br />3.查看上一次程序退出值：echo $? |
| alias | 设置命令别名（临时）<br />alias  别名=命令  <br />若什么都不加，显示目前所有的别名设置 |
| file  | file 文件：查看文件格式                                      |
| ldd   | 查看依赖的所有动态库                                         |
| date  | 查看/修改时间                                                |
|       |                                                              |



# 
